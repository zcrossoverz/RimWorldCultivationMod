# Tu Tien Mod - Code Flow Diagram

## ğŸ¯ Tá»•ng quan Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Game Events   â”‚    â”‚   User Actions  â”‚    â”‚   Tick System   â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ â€¢ Pawn Spawn    â”‚â”€â”€â”€â”€â”‚ â€¢ Skill Click   â”‚â”€â”€â”€â”€â”‚ â€¢ Cultivation   â”‚
â”‚ â€¢ Map Load      â”‚    â”‚ â€¢ Tab Open      â”‚    â”‚ â€¢ Regeneration  â”‚
â”‚ â€¢ Damage        â”‚    â”‚ â€¢ Breakthrough  â”‚    â”‚ â€¢ Cooldowns     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â”‚                       â”‚                       â”‚
         â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    HARMONY PATCHES                              â”‚
â”‚                                                                 â”‚
â”‚ â€¢ Pawn_SpawnSetup_Patch     â†’ Add CultivationComp              â”‚
â”‚ â€¢ Pawn_GetGizmos_Patch      â†’ Show Skill Buttons               â”‚
â”‚ â€¢ Thing_GetInspectTabs_Patch â†’ Add Cultivation Tab             â”‚
â”‚ â€¢ DamageWorker_Apply_Patch  â†’ Qi Shield Protection             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   CORE COMPONENTS                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š Component Flow Diagram

```
                           ğŸ§¬ PAWN SPAWN
                                â”‚
                                â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  CultivationComp      â”‚
                    â”‚  (Auto-attached)      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  CultivationData      â”‚
                    â”‚  â€¢ currentRealm       â”‚
                    â”‚  â€¢ currentStage       â”‚
                    â”‚  â€¢ cultivationPoints  â”‚
                    â”‚  â€¢ currentQi          â”‚
                    â”‚  â€¢ maxQi              â”‚
                    â”‚  â€¢ talent             â”‚
                    â”‚  â€¢ unlockedSkills     â”‚
                    â”‚  â€¢ skillCooldowns     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â–¼           â–¼           â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   UI TAB    â”‚ â”‚   GIZMOS    â”‚ â”‚   TICKING   â”‚
         â”‚             â”‚ â”‚             â”‚ â”‚             â”‚
         â”‚ Cultivation â”‚ â”‚ Skill       â”‚ â”‚ Regenerate  â”‚
         â”‚ Progress    â”‚ â”‚ Buttons     â”‚ â”‚ Qi & Points â”‚
         â”‚ Stats       â”‚ â”‚ Cooldowns   â”‚ â”‚ Update      â”‚
         â”‚ Breakthroughâ”‚ â”‚ Passive     â”‚ â”‚ Cooldowns   â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ Skill System Flow

```
        ğŸ‘† USER CLICKS SKILL GIZMO
                    â”‚
                    â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   CanUseSkill()       â”‚
        â”‚   â€¢ Check Qi Cost     â”‚
        â”‚   â€¢ Check Cooldown    â”‚
        â”‚   â€¢ Check Conditions  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â–¼          â–¼          â–¼
    âŒ FAIL    âœ… SUCCESS   â³ COOLDOWN
         â”‚          â”‚          â”‚
         â–¼          â–¼          â–¼
   Show Error   UseSkill()   Show Timer
                    â”‚
                    â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Skill Worker         â”‚
        â”‚  â€¢ QiPunchWorker      â”‚
        â”‚  â€¢ QiShieldWorker     â”‚
        â”‚  â€¢ QiHealingWorker    â”‚
        â”‚  â€¢ etc...             â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Execute()            â”‚
        â”‚  â€¢ Consume Qi         â”‚
        â”‚  â€¢ Apply Effects      â”‚
        â”‚  â€¢ Add Hediffs        â”‚
        â”‚  â€¢ Visual Effects     â”‚
        â”‚  â€¢ Set Cooldown       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Update UI            â”‚
        â”‚  â€¢ Refresh Gizmos     â”‚
        â”‚  â€¢ Update Tab         â”‚
        â”‚  â€¢ Show Notifications â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## âš¡ Breakthrough System Flow

```
        ğŸ’ª USER CLICKS BREAKTHROUGH
                    â”‚
                    â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   CanBreakthrough()   â”‚
        â”‚   â€¢ Check Tu Vi       â”‚
        â”‚   â€¢ Check Cooldown    â”‚
        â”‚   â€¢ Check Conditions  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â–¼          â–¼          â–¼
    âŒ FAIL    âœ… READY    â³ COOLDOWN
         â”‚          â”‚          â”‚
         â–¼          â–¼          â–¼
   Show Error  AttemptBreak   Show Timer
                    â”‚
                    â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Calculate Chance     â”‚
        â”‚  â€¢ Talent Modifier    â”‚
        â”‚  â€¢ Stage Difficulty   â”‚
        â”‚  â€¢ Random Factor      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â–¼          â–¼          â–¼
    âŒ FAILED   âœ… SUCCESS  âš ï¸ CRITICAL
         â”‚          â”‚          â”‚
         â–¼          â–¼          â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Damage  â”‚ â”‚Advance  â”‚ â”‚Qi Dev.  â”‚
   â”‚ Pawn    â”‚ â”‚Stage    â”‚ â”‚Serious  â”‚
   â”‚ Cooldownâ”‚ â”‚Unlock   â”‚ â”‚Injuries â”‚
   â”‚         â”‚ â”‚Skills   â”‚ â”‚         â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚          â”‚          â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Show Result Dialog   â”‚
        â”‚  â€¢ Stats Comparison   â”‚
        â”‚  â€¢ New Skills         â”‚
        â”‚  â€¢ Effects Summary    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ® User Interface Flow

```
                    ğŸ–±ï¸ CLICK PAWN
                         â”‚
                         â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚     Pawn Inspector Tabs         â”‚
        â”‚  Bio | Gear | Social | Health  â”‚
        â”‚            CULTIVATION          â”‚ â† Injected by Patch
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚      ITab_Cultivation           â”‚
        â”‚   â†’ CultivationUI.DrawTab()     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚      DrawCultivationTab()       â”‚
        â”‚                                 â”‚
        â”‚  â”Œâ”€ Realm & Stage Info          â”‚
        â”‚  â”Œâ”€ Progress Bars (Tu Vi, Qi)   â”‚
        â”‚  â”Œâ”€ Breakthrough Button         â”‚
        â”‚  â”Œâ”€ Skills List:                â”‚
        â”‚     â”œâ”€ Active Skills Section    â”‚
        â”‚     â””â”€ Passive Skills Section   â”‚
        â”‚  â”Œâ”€ Cultivation Button          â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ Gizmo System Flow

```
                  ğŸ® EVERY FRAME UPDATE
                         â”‚
                         â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Pawn_GetGizmos_Patch          â”‚
        â”‚   â€¢ Check if Colonist           â”‚
        â”‚   â€¢ Get CultivationComp         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   GetCultivationGizmos()        â”‚
        â”‚                                 â”‚
        â”‚  â”Œâ”€ Cultivate Button            â”‚
        â”‚  â”Œâ”€ Breakthrough Button         â”‚
        â”‚  â”Œâ”€ Active Skill Buttons        â”‚
        â”‚  â””â”€ Passive Skill Info Buttons  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   For Each Active Skill:        â”‚
        â”‚                                 â”‚
        â”‚  â”Œâ”€ Command_CultivationSkill    â”‚
        â”‚  â”Œâ”€ Calculate Cooldown %        â”‚
        â”‚  â”Œâ”€ Set Button Color            â”‚
        â”‚  â””â”€ Draw Cooldown Overlay       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Render on Screen              â”‚
        â”‚   (Bottom-right gizmo bar)      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ˆ Tick System Flow

```
                  â° EVERY GAME TICK (60 per second)
                         â”‚
                         â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚    All CultivationComp          â”‚
        â”‚    CompTick() called            â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   CultivationData.Tick()        â”‚
        â”‚                                 â”‚
        â”‚  Every 60 ticks (1 second):     â”‚
        â”‚  â”Œâ”€ Regenerate Qi               â”‚
        â”‚  â”Œâ”€ Update Skill Cooldowns      â”‚
        â”‚  â”Œâ”€ Check Auto-Cultivation      â”‚
        â”‚                                 â”‚
        â”‚  Every 2500 ticks (1 hour):     â”‚
        â”‚  â”Œâ”€ Generate Tu Vi Points       â”‚
        â”‚  â”Œâ”€ Apply Passive Skills        â”‚
        â”‚  â””â”€ Update Hediffs              â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ—ï¸ Data Structure Flow

```
                    ğŸ’¾ SAVE/LOAD SYSTEM
                         â”‚
                         â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚      CultivationComp            â”‚
        â”‚      ExposeData()               â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚    CultivationData              â”‚
        â”‚    ExposeData()                 â”‚
        â”‚                                 â”‚
        â”‚ Scribe_Values.Look():           â”‚
        â”‚  â€¢ currentRealm                 â”‚
        â”‚  â€¢ currentStage                 â”‚
        â”‚  â€¢ cultivationPoints            â”‚
        â”‚  â€¢ currentQi, maxQi             â”‚
        â”‚  â€¢ talent                       â”‚
        â”‚                                 â”‚
        â”‚ Scribe_Collections.Look():      â”‚
        â”‚  â€¢ unlockedSkills               â”‚
        â”‚  â€¢ skillCooldowns               â”‚
        â”‚                                 â”‚
        â”‚ Custom Logic:                   â”‚
        â”‚  â€¢ Validate data                â”‚
        â”‚  â€¢ Migrate old saves            â”‚
        â”‚  â€¢ Initialize defaults          â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¨ Visual Effects Flow

```
                   âœ¨ SKILL EXECUTION
                         â”‚
                         â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚     Skill Worker Execute        â”‚
        â”‚                                 â”‚
        â”‚  Visual Effects:                â”‚
        â”‚  â”Œâ”€ MoteMaker.ThrowText()       â”‚
        â”‚  â”Œâ”€ EffectMaker.MakeEffect()    â”‚
        â”‚  â”Œâ”€ FleckMaker.ThrowDustPuff()  â”‚
        â”‚  â””â”€ Sound.PlayOneShotOnCamera() â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚     Messages & Notifications    â”‚
        â”‚                                 â”‚
        â”‚  â”Œâ”€ Success Messages            â”‚
        â”‚  â”Œâ”€ Error Messages              â”‚
        â”‚  â”Œâ”€ Breakthrough Announcements  â”‚
        â”‚  â””â”€ Combat Messages             â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ” Debug & Development Flow

```
                    ğŸ› DEVELOPMENT TOOLS
                         â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â–¼             â–¼             â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚Debug Actionsâ”‚ â”‚Log Messages â”‚ â”‚Dev Commands â”‚
   â”‚             â”‚ â”‚             â”‚ â”‚             â”‚
   â”‚Add Skills   â”‚ â”‚Warnings     â”‚ â”‚God Mode     â”‚
   â”‚Set Realm    â”‚ â”‚Errors       â”‚ â”‚Skip Cooldownâ”‚
   â”‚Test Breakthroughâ”‚ â”‚Info      â”‚ â”‚Instant Max  â”‚
   â”‚Remove Hediffsâ”‚ â”‚Trace       â”‚ â”‚             â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
                  ğŸ“ LOG OUTPUT
```

## ğŸ”„ Integration Points

```
        ğŸ¯ RIMWORLD INTEGRATION POINTS
                         â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                â”‚                â”‚
        â–¼                â–¼                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Health Systemâ”‚  â”‚Stats System â”‚  â”‚Job System   â”‚
â”‚             â”‚  â”‚             â”‚  â”‚             â”‚
â”‚â€¢ Hediffs    â”‚  â”‚â€¢ StatOffsetsâ”‚  â”‚â€¢ Cultivationâ”‚
â”‚â€¢ Damage     â”‚  â”‚â€¢ StatFactorsâ”‚  â”‚â€¢ Meditation â”‚
â”‚â€¢ Healing    â”‚  â”‚â€¢ Capacities â”‚  â”‚â€¢ Combat     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                â”‚                â”‚
        â–¼                â–¼                â–¼
        ğŸ® VANILLA RIMWORLD FEATURES
```

## ğŸ“‹ Error Handling Flow

```
                  âš ï¸ ERROR SCENARIOS
                         â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                â”‚                â”‚
        â–¼                â–¼                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Null Checks  â”‚  â”‚Try-Catch    â”‚  â”‚Validation   â”‚
â”‚             â”‚  â”‚             â”‚  â”‚             â”‚
â”‚â€¢ Comp null  â”‚  â”‚â€¢ Skill exec â”‚  â”‚â€¢ Save data  â”‚
â”‚â€¢ Data null  â”‚  â”‚â€¢ UI drawing â”‚  â”‚â€¢ Def loadingâ”‚
â”‚â€¢ Pawn null  â”‚  â”‚â€¢ Patching   â”‚  â”‚â€¢ User input â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                â”‚                â”‚
        â–¼                â–¼                â–¼
        ğŸ“ LOG ERROR & CONTINUE GRACEFULLY
```

## ğŸ¯ Performance Considerations

```
                 ğŸš€ OPTIMIZATION POINTS
                         â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                â”‚                â”‚
        â–¼                â–¼                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Tick Optimizationâ”‚ â”‚UI Caching  â”‚  â”‚Memory Mgmt  â”‚
â”‚             â”‚  â”‚             â”‚  â”‚             â”‚
â”‚HashInterval â”‚  â”‚Static vars  â”‚  â”‚Object pools â”‚
â”‚Rare ticks   â”‚  â”‚Cached calc  â”‚  â”‚Dispose      â”‚
â”‚Skip inactiveâ”‚  â”‚Dirty flags  â”‚  â”‚GC friendly  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

ÄÃ¢y lÃ  sÆ¡ Ä‘á»“ flow hoÃ n chá»‰nh cá»§a mod Tu Tien! Má»—i pháº§n Ä‘á»u káº¿t ná»‘i vá»›i nhau táº¡o thÃ nh má»™t há»‡ thá»‘ng cultivation hoÃ n chá»‰nh vÃ  mÆ°á»£t mÃ  trong RimWorld. ğŸ¯âœ¨
